name: Matrix Build 

on:
 push: 
  branches:
   - main

jobs:
 test:
  runs-on: ubuntu-latest

  strategy:
   matrix:
    os: [ubuntu-latest, macos-latest, windows-latest]
    python: [3.7, 3.8, 3.9]

  steps:
  - name: Checkout repository
    uses: actions/checkout@v2

  - name: Set up Python
    uses: actions/setup-python@v2
    with:
     python-version: ${{ matrix.python }}

  - name: Install dependencies
    run: pip install -r requirements.txt

  - name: Run tests
    run: python my.py
